<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Sompasauna</title>
</head>
<body>
    
    <div class="container">
        <h1>Sompasaunan lämpömittari</h1>
        
        <div class="tiempo">
            <span id="time">0</span>
        </div>
        <br>
        <div class="watertemp">
            <p>Veden lämpötila</p><span class="temp" id="water">0</span>
        </div>
        <br>
        <div class="airtemp">
            <p>Ilman lämpötila</p><span class="temp" id="air">0</span>
        </div>    
    </div>

<script>

let water = document.querySelector("#water")
let air = document.querySelector("#air")
let time = document.querySelector("#time")

fetch('https://iot.fvh.fi/opendata/uiras/uiras2_v1.json')
    .then(response => response.json())
    .then(data => {
        //container.push(data.sensors["70B3D57050004C07"].data[0])
        let len = data.sensors["70B3D57050004C07"].data;
        for ( let i = len.length-1 ; i < len.length; i++) {
            
            water.textContent = "+" + len[i].temp_water + " °C";
            air.textContent = "+" + len[i].temp_air + " °C";
            time.textContent = len[i].time;
        }
    
});


        

</script>
</body>
</html>
